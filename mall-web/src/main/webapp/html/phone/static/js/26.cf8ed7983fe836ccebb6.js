webpackJsonp([26],{"7n74":function(t,i,a){"use strict";function e(t){a("joNb")}Object.defineProperty(i,"__esModule",{value:!0});var o=a("DhIC"),n={name:"succeed",data:function(){return{background:null,busId:this.$route.params.busId||sessionStorage.getItem("busId"),imgUrl:"",integralObj:null,integralList:null,imageList:[],memberId:0,memberIntegral:0,curPage:1,pageCount:1}},components:{defaultImg:defaultImg,banner:o.a},mounted:function(){this.commonFn.setTitle("积分商城"),this.$store.commit("show_footer",!1),this.loadDatasImage(),this.loadProduct(this.curPage);var t=this;$(window).bind("scroll",function(){$(window).scrollTop()>0&&$(window).scrollTop()>=$(document).height()-$(window).height()-1e3&&t.loadMore()})},beforeDestroy:function(){this.$store.commit("show_footer",!0)},methods:{loadMore:function(){var t=this.pageCount;if(this.curPage>=t)return void(this.isMore=3);2!=this.isMore&&(this.curPage++,this.isMore=2,this.loadProduct({curPage:this.curPage}))},loadDatasImage:function(){var t=this,i={busId:t.busId,url:location.href,browerType:t.$store.state.browerType,ucLogin:1};t.ajaxRequest({url:h5App.activeAPI.integral_image_post,data:i,success:function(i){var a=i.data;t.imgUrl=i.imgUrl,t.memberId=a.memberId,t.memberIntegral=a.memberIntegral,t.imageList=a.imageList}})},loadProduct:function(t){var i=this,a={busId:i.busId,url:location.href,browerType:i.$store.state.browerType,ucLogin:1,curPage:t.curPage||this.curPage||1};i.ajaxRequest({url:h5App.activeAPI.integral_product_list_post,data:a,success:function(t){var a=t.data,e=a.page;if(null==e)return i.isMore=3,void $(window).unbind("scroll");i.imgUrl=t.imgUrl,i.curPage=e.curPage,i.pageCount=e.pageCount,1===i.curPage?i.integralList=e.subList:i.integralList=i.integralList.concat(e.subList)||[],i.isMore=1,i.curPage>=i.pageCount&&(i.isMore=3,$(window).unbind("scroll"))}})},toIntegralDetail:function(){this.$router.push("/integral/detail/"+this.busId)},toIntegralRecord:function(){this.$router.push("/integral/record/"+this.busId)},toIntegralProduct:function(t){this.$router.push("/integral/product/"+t.busId+"/"+t.product_id+"/"+t.shop_id)}}},r=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"shop-wrapper integral-wrapper",attrs:{id:"app"}},[a("div",{staticClass:"integral-top"},[a("div",{staticClass:"bg-div"},[a("p",{staticClass:"fs40"},[t._v("我的积分")]),t._v(" "),0==t.memberId?a("p",{staticClass:"fs70"},[t._v("还未登陆，请先登陆")]):t._e(),t._v(" "),t.memberId>0?a("p",[t._v(t._s(t.memberIntegral))]):t._e()]),t._v(" "),a("div",{staticClass:"bg-color"}),t._v(" "),a("div",{staticClass:"bg-tab"},[a("div",{on:{click:function(i){t.toIntegralRecord()}}},[a("i",{staticClass:"icon-event iconfont"}),t._v("兑换记录")]),t._v(" "),a("div",{on:{click:function(i){t.toIntegralDetail()}}},[a("i",{staticClass:"icon-asset iconfont"}),t._v("积分明细")])])]),t._v(" "),null!=t.imageList&&t.imageList.length>0?a("div",{staticClass:"integral-middle"},[a("banner",{attrs:{banner:t.imageList,imgUrl:t.imgUrl,height:"1.77rem",imgCla:"cla-img"}})],1):t._e(),t._v(" "),null!=t.integralList?a("div",{staticClass:"integral-product"},t._l(t.integralList,function(i,e){return a("div",{key:e,staticClass:"product-item",on:{click:function(a){t.toIntegralProduct(i)}}},[a("div",{staticClass:"product-content"},[a("div",{staticClass:"product-img"},[a("default-img",{attrs:{background:t.imgUrl+i.image_url,isHeadPortrait:0}})],1),t._v(" "),a("div",{staticClass:"content-div"},[a("p",{staticClass:"product-title"},[t._v(t._s(i.pro_name))]),t._v(" "),a("p",{staticClass:"div-text"},[t._v("微会员积分兑换")]),t._v(" "),a("p",{staticClass:"shop-font"},[t._v(t._s(i.money)+"积分")])])]),t._v(" "),a("div",{staticClass:"div-icon iconfont icon-you"})])})):t._e()])},s=[],d={render:r,staticRenderFns:s},l=d,c=a("X4nt"),g=e,p=c(n,l,!1,g,"data-v-1b8a0716",null);i.default=p.exports},DhIC:function(t,i,a){"use strict";function e(t){a("qwSX")}var o=a("wSez"),n=(a("5OHe"),{components:{Swipe:o.Swipe,SwipeItem:o.SwipeItem},props:["banner","imgUrl","height","imgCla","colorStyle"],data:function(){return{imgSelecte:0,swipeOptions:{speed:300,auto:4e3,defaultIndex:0,continuous:!0,showIndicators:!1,prevent:!1,stopPropagation:!1},style:"img-selecte"}},methods:{handleChange:function(t){this.imgSelecte=t}},watch:{},computed:{},mounted:function(){var t="";t=null==this.height?$("body").width():this.height,$("#banner").css({height:t}),this.style=this.colorStyle||"img-selecte"}}),r=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"goods-img-display",attrs:{id:"banner"}},[a("swipe",{attrs:{auto:t.swipeOptions.auto,speed:t.swipeOptions.speed,defaultIndex:t.swipeOptions.defaultIndex,continuous:t.swipeOptions.continuous,showIndicators:t.swipeOptions.showIndicators,prevent:t.swipeOptions.prevent,stopPropagation:t.swipeOptions.stopPropagation},on:{change:t.handleChange}},t._l(t.banner,function(i,e){return a("swipe-item",{key:i[e]},[a("div",{staticClass:"goods-img"},[""!=i.returnUrl?a("a",{attrs:{href:i.returnUrl}},[""!=i.imageUrl?a("img",{class:["cla-img"==t.imgCla?"cla-img":"img"],attrs:{src:t.imgUrl+i.imageUrl}}):t._e()]):""!=i.imageUrl?a("img",{class:["cla-img"==t.imgCla?"cla-img":"img"],attrs:{src:t.imgUrl+i.imageUrl}}):t._e(),t._v(" "),a("i",{staticClass:"iconfont icon-tupianjiazaizhong-"})])])})),t._v(" "),t.banner.length>1?a("p",{staticClass:"goods-origin-box"},t._l(t.banner,function(i,e){return a("i",{key:e,staticClass:"goods-origin ",class:[e==t.imgSelecte?t.style:""]})})):t._e()],1)},s=[],d={render:r,staticRenderFns:s},l=d,c=a("X4nt"),g=e,p=c(n,l,!1,g,"data-v-72f079aa",null);i.a=p.exports},i7A8:function(t,i,a){i=t.exports=a("I71c")(!1),i.push([t.i,".goods-img-display[data-v-72f079aa]{position:relative;width:100%;margin-bottom:0}.goods-img-display .goods-img[data-v-72f079aa]{width:100%;height:100%;display:-webkit-box;display:-moz-box;display:-o-box;display:box;-webkit-box-pack:center;-o-box-pack:center;box-pack:center;-webkit-box-align:center;-o-box-align:center;box-align:center;position:relative}.goods-img-display .goods-img img[data-v-72f079aa]{position:relative;margin:0 auto;display:block;max-width:100%;z-index:2}.goods-img-display .goods-img i.icon-tupianjiazaizhong-[data-v-72f079aa]{position:absolute;z-index:1;top:50%;left:50%;margin-left:-1rem;margin-top:-1rem}.goods-img-display .goods-img .img[data-v-72f079aa]{max-height:100%}.goods-img-display .goods-img .cla-img[data-v-72f079aa]{-webkit-transform:translateY(50% 50%)!important;transform:translateY(50% 50%)!important;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%)!important;transform:translate(-50%,-50%)!important}.goods-img-display .goods-img .icon-tupianjiazaizhong-[data-v-72f079aa]{font-size:2rem;color:#d6d6d6}.goods-img-display .goods-origin-box[data-v-72f079aa]{width:100%;text-align:center;font-size:0;position:absolute;bottom:5%;z-index:1}.goods-img-display .goods-origin-box i[data-v-72f079aa]{display:inline-block;width:8px;height:8px;background:#ccc;border-radius:100%;margin:0 3px}.goods-img-display .goods-origin-box .img-selecte[data-v-72f079aa]{background:#e4393c;width:14px;border-radius:20px}.goods-img-display .goods-origin-box .style-main-bg[data-v-72f079aa]{width:14px;border-radius:20px}",""])},joNb:function(t,i,a){var e=a("w5SX");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);a("5ten")("259d2a17",e,!0,{})},qwSX:function(t,i,a){var e=a("i7A8");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);a("5ten")("1b1c243c",e,!0,{})},uVkj:function(t,i,a){t.exports=a.p+"static/img/integral-bg.a4e6169.jpg"},w5SX:function(t,i,a){var e=a("gbsh");i=t.exports=a("I71c")(!1),i.push([t.i,".integral-top[data-v-1b8a0716]{width:100%}.integral-top .bg-div[data-v-1b8a0716]{height:2.66666667rem;background:url("+e(a("uVkj"))+");color:#fff}.integral-top .bg-div p[data-v-1b8a0716]{text-align:center}.integral-top .bg-div p[data-v-1b8a0716]:first-child{padding:.66666667rem 0 .26666667rem}.integral-top .bg-div p[data-v-1b8a0716]:last-child{font-size:1rem}.integral-top .bg-div .fs70[data-v-1b8a0716]{font-size:.46666667rem!important}.integral-top .bg-color[data-v-1b8a0716]{background:#f63854;height:.06666667rem}.integral-top .bg-tab[data-v-1b8a0716]{background:#f86076;height:1.13333333rem;display:-webkit-box;display:-moz-box;display:-o-box;display:box;-webkit-box-pack:justify;-o-box-pack:justify;box-pack:justify;-webkit-box-align:center;-o-box-align:center;box-align:center;color:#fff}.integral-top .bg-tab div[data-v-1b8a0716]{font-size:.3rem;width:50%;height:100%;line-height:1.13333333rem;text-align:center}.integral-top .bg-tab div i[data-v-1b8a0716]{margin-right:.3rem}.integral-middle[data-v-1b8a0716]{width:100%;padding:.06666667rem 0;background:#fff}.integral-product .product-item[data-v-1b8a0716]{margin-top:.06666667rem;height:2rem;background:#fff;display:-webkit-box;display:-moz-box;display:-o-box;display:box;-webkit-box-pack:justify;-o-box-pack:justify;box-pack:justify;-webkit-box-align:center;-o-box-align:center;box-align:center}.integral-product .product-item .product-content[data-v-1b8a0716]{width:90%;display:-webkit-box;display:-moz-box;display:-o-box;display:box;-webkit-box-pack:left;-o-box-pack:left;box-pack:left;-webkit-box-align:left;-o-box-align:left;box-align:left}.integral-product .product-item .product-content .product-img[data-v-1b8a0716]{height:2rem;width:2rem;background-size:cover}.integral-product .product-item .product-content .content-div[data-v-1b8a0716]{padding:0 .26666667rem;width:74%}.integral-product .product-item .product-content .content-div .product-title[data-v-1b8a0716]{padding:.2rem 0;font-size:.33333333rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.integral-product .product-item .product-content .content-div p[data-v-1b8a0716]{font-size:.26666667rem}.integral-product .product-item .product-content .content-div .div-text[data-v-1b8a0716]{color:#a9a9a9;padding-bottom:.2rem}.integral-product .product-item .div-icon[data-v-1b8a0716]{width:10%;text-align:center;height:100%;line-height:2rem}",""])}});