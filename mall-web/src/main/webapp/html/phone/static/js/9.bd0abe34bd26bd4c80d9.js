webpackJsonp([9],{"3cXf":function(e,t,a){e.exports={default:a("4rP4"),__esModule:!0}},"4rP4":function(e,t,a){var i=a("UusJ"),s=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return s.stringify.apply(s,arguments)}},A2FQ:function(e,t,a){var i=a("HwZT");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("5ten")("073c8ac0",i,!0,{})},Frvt:function(e,t,a){"use strict";function i(e){a("A2FQ")}Object.defineProperty(t,"__esModule",{value:!0});var s=a("3cXf"),l=a.n(s),r=a("JHeL"),o=a("l4l+"),n=(a("b7Ca"),{data:function(){return{busId:this.$route.params.busId||sessionStorage.getItem("busId"),findIds:this.$route.params.findIds||null,mallSet:{id:null,mallName:null,contactNumber:null,qq:null,mallHeadPath:"",bannerPath:"",mallIntroducation:null},sellerProList:null,type:this.$route.params.type||1,headerArr:[{id:1,name:"基本信息"},{id:2,name:"自选商品"}],imgUrl:null,selectProIdList:[]}},components:{defaultImg:defaultImg,headerNav:r.a,imgUpload:o.a},watch:{type:function(){var e=this.findIds;null==e&&(e="-"),this.$router.push("/seller/mallset/"+this.busId+"/"+this.type+"/"+e),this.$route.params.type=this.type}},mounted:function(){this.commonFn.setTitle("商城设置"),this.$store.commit("show_footer",!1),this.loadDatas(),"-"==this.findIds&&(this.findIds=null),null!=this.findIds&&(this.selectProIdList=this.findIds.split(","),this.getSelectProduct())},beforeDestroy:function(){this.$store.commit("show_footer",!0)},methods:{loadDatas:function(){var e=this,t={busId:e.busId,url:location.href,browerType:e.$store.state.browerType,type:this.type};e.ajaxRequest({url:h5App.activeAPI.seller_to_mall_set_post,data:t,success:function(t){var a=t.data;e.imgUrl=t.imgUrl,null!=a.mallSet&&(e.mallSet=a.mallSet),null!=a.sellerProList&&a.sellerProList.length>0&&(null==e.sellerProList||0==e.sellerProList.length?e.sellerProList=a.sellerProList:e.sellerProList=e.sellerProList.concat(a.sellerProList))}})},getSelectProduct:function(){var e=this,t={busId:e.busId,url:location.href,browerType:e.$store.state.browerType,findIds:this.findIds};e.ajaxRequest({url:h5App.activeAPI.seller_selected_product_post,data:t,success:function(t){var a=t.data;e.imgUrl=t.imgUrl,null!=a&&(null==e.sellerProList||0==e.sellerProList.length?e.sellerProList=a:e.sellerProList=e.sellerProList.concat(a))}})},deletePro:function(e,t,a){var i=this;if((0,this.commonFn.isNotNull)(t.sellerProductId)&&!a){var s={btnNum:2,btnOne:"确定",btnTow:"取消",dialogTitle:"提示",dialogMsg:"是否删除该商品，删除商品后得重新添加商品",callback:{btnOne:function(){i.deletePro(e,t,!0)}}};return void this.$parent.$refs.dialog.showDialog(s)}this.$delete(this.sellerProList,e);for(var l=this.selectProIdList,r=0;r<l.length;r++)if(l[r]==t.id){this.$delete(this.selectProIdList,r);break}if(null==t.sellerProductId)return void this.deleteLoadUrls();this.delete(t.sellerProductId)},validate:function(e){var t=this.$parent.$refs.bubble.show_tips,a=this.commonFn.isNull,i=this.commonFn.validPhone,s=this.mallSet;if(0==e||1==e){var l=s.mallName;if(a(l))return t("请填写商城名称"),!1;if(l.length>50)return t("商城名称字数不能超过50字"),!1}if(0==e||2==e){var r=s.contactNumber;if(a(r)||!i(r))return t("请填写正确的联系电话"),!1}if(0==e||3==e){var o=s.qq;if(a(o)||o.length>25)return t("请填写正确的QQ号码"),!1}return 0!=e&&4!=e||!a(s.mallHeadPath)?0!=e&&5!=e||!a(s.bannerPath)?0!=e&&6!=e||null==s.mallIntroducation||!(s.mallIntroducation.length>200)||(t("商城简介字数不能超过200个字"),!1):(t("请上传banner地址"),!1):(t("请上传商城头像"),!1)},returnUrl:function(e){1==e[1]?this.mallSet.mallHeadPath=e[0][0]:this.mallSet.bannerPath=e[0][0]},delete:function(e){var t=this,a={busId:t.busId,url:location.href,browerType:t.$store.state.browerType,id:e};t.ajaxRequest({url:h5App.activeAPI.seller_delete_mall_post,data:a,loading:!0,success:function(e){t.$store.commit("is_show_loading",!1),t.deleteLoadUrls()}})},save:function(e){var t=this.mallSet;if(1!=this.type||this.validate(0)){var a=this,i={busId:a.busId,url:location.href,browerType:a.$store.state.browerType,type:this.type},s={mallSet:t};if(2==this.type&&0==t.isOpenOptional)return void a.$router.push("/seller/mallindex/"+a.busId+"/"+a.mallSet.saleMemberId);if(2==this.type&&1==t.isOpenOptional){if(null==this.sellerProList||0==this.sellerProList.length)return void a.$store.commit("error_msg","请选择商品");var r=[];this.sellerProList.forEach(function(e,i){var s={productId:e.id,shopId:e.shop_id,mallsetId:t.id};null!=e.sellerProductId&&(s.id=e.sellerProductId),a.$set(r,i,s)}),s.sellerProList=r}null!=s&&(i.mallSet=l()(s)),a.ajaxRequest({url:h5App.activeAPI.seller_add_mall_set_post,data:i,loading:!0,success:function(e){if(a.$store.commit("is_show_loading",!1),1==a.type)return void(a.type=2);a.$router.push("/seller/mallindex/"+a.busId+"/"+a.mallSet.saleMemberId)}})}},deleteLoadUrls:function(){var e="-";null!=this.selectProIdList&&this.selectProIdList.length>0&&(e=this.selectProIdList.toString()),this.$router.push("/seller/mallset/"+this.busId+"/2/"+e)},disabledSelect:function(e){if(2==e){var t={btnNum:1,btnOne:"我知道了",dialogTitle:"提示",dialogMsg:"请先完善基本信息"};this.$parent.$refs.dialog.showDialog(t)}},selectOption:function(){var e=this,t=this.mallSet,a=this.mallSet.isOpenOptional,i=0;a&&(i=1);var s={busId:e.busId,url:location.href,browerType:e.$store.state.browerType,status:i,id:t.id};e.ajaxRequest({url:h5App.activeAPI.seller_open_optional_post,data:s,loading:!0,success:function(t){e.$store.commit("is_show_loading",!1)}})},back:function(){var e=sessionStorage.getItem("returnUrl");null==e?this.$router.push("/seller/index/"+this.busId):location.href=e},findProduct:function(){var e=this.selectProIdList;null!=e&&0!=e.length||(e="-"),this.$router.push("/seller/findproduct/"+this.busId+"/"+e.toString())}}}),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shop-wrapper sale-wrapper"},[a("div",{staticClass:"seller-top "},[a("div",{staticClass:"seller-nav fs48"},[a("i",{staticClass:"iconfont icon-jiantou-copy1",on:{click:e.back}}),e._v("商城设置\n        ")]),e._v(" "),a("div",{staticClass:"seller-nav2 "},[a("header-nav",{attrs:{headers:e.headerArr,selectId:e.type,type:e.type,isCanSelect:null!=e.mallSet.id},on:{"update:type":function(t){e.type=t},isCanSelect:e.disabledSelect}})],1)]),e._v(" "),1==e.type?a("div",{staticClass:"seller-content bg-white"},[a("div",{staticClass:"set-item border"},[a("div",{staticClass:"set-div1"},[e._v("商城名称")]),e._v(" "),a("div",{staticClass:"fs0 set-div2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.mallSet.mallName,expression:"mallSet.mallName"}],attrs:{placeholder:"请输入商城名称"},domProps:{value:e.mallSet.mallName},on:{blur:function(t){e.validate(1)},input:function(t){t.target.composing||e.$set(e.mallSet,"mallName",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"set-item border"},[a("div",{staticClass:"set-div1"},[e._v("联系电话")]),e._v(" "),a("div",{staticClass:"fs0 set-div2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.mallSet.contactNumber,expression:"mallSet.contactNumber"}],attrs:{placeholder:"请输入联系电话"},domProps:{value:e.mallSet.contactNumber},on:{blur:function(t){e.validate(2)},input:function(t){t.target.composing||e.$set(e.mallSet,"contactNumber",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"set-item border"},[a("div",{staticClass:"set-div1"},[e._v("QQ")]),e._v(" "),a("div",{staticClass:"fs0 set-div2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.mallSet.qq,expression:"mallSet.qq"}],attrs:{placeholder:"请输入QQ号码"},domProps:{value:e.mallSet.qq},on:{blur:function(t){e.validate(3)},input:function(t){t.target.composing||e.$set(e.mallSet,"qq",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"set-item2 border"},[a("div",{staticClass:"set-div1"},[e._v("商城头像")]),e._v(" "),a("div",{staticClass:"fs0 set-div2"},[null==e.mallSet.mallHeadPath?a("div",{staticClass:"update-div"},[a("img-upload",{attrs:{styles:2,index:1},on:{returnUrl:e.returnUrl}})],1):a("div",{staticClass:"update-div hideUpload",style:{backgroundImage:"url("+(e.imgUrl+e.mallSet.mallHeadPath)+")"}},[a("img-upload",{staticStyle:{opacity:"0"},attrs:{styles:2,index:1},on:{returnUrl:e.returnUrl}})],1)])]),e._v(" "),a("div",{staticClass:"set-item2 border"},[a("div",{staticClass:"set-div1"},[e._v("banner")]),e._v(" "),a("div",{staticClass:"fs0 set-div2"},[null==e.mallSet.bannerPath?a("div",{staticClass:"update-div2"},[a("img-upload",{attrs:{styles:2,index:2},on:{returnUrl:e.returnUrl}})],1):a("div",{staticClass:"update-div2 hideUpload",style:{backgroundImage:"url("+(e.imgUrl+e.mallSet.bannerPath)+")"}},[a("img-upload",{staticStyle:{opacity:"0"},attrs:{styles:2,index:2},on:{returnUrl:e.returnUrl}})],1)])]),e._v(" "),a("div",{staticClass:"set-item2"},[a("div",{staticClass:"set-div1"},[e._v("商城简介")]),e._v(" "),a("div",{staticClass:"fs0 set-div3"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.mallSet.mallIntroducation,expression:"mallSet.mallIntroducation"}],attrs:{placeholder:"请输入商城简介"},domProps:{value:e.mallSet.mallIntroducation},on:{blur:function(t){e.validate(6)},input:function(t){t.target.composing||e.$set(e.mallSet,"mallIntroducation",t.target.value)}}})])])]):e._e(),e._v(" "),2==e.type&&null!=e.mallSet?a("div",{staticClass:"seller-content "},[a("div",{staticClass:"seller-content2"},[a("div",{staticClass:"zx-div"},[a("div",{staticClass:"fs40"},[e._v("开启自选")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mallSet.isOpenOptional,expression:"mallSet.isOpenOptional"}],staticClass:"switch small-switch shop-switch fs46",attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.mallSet.isOpenOptional)?e._i(e.mallSet.isOpenOptional,"1")>-1:e.mallSet.isOpenOptional},on:{change:[function(t){var a=e.mallSet.isOpenOptional,i=t.target,s=!!i.checked;if(Array.isArray(a)){var l=e._i(a,"1");i.checked?l<0&&(e.mallSet.isOpenOptional=a.concat(["1"])):l>-1&&(e.mallSet.isOpenOptional=a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.mallSet,"isOpenOptional",s)},e.selectOption]}})]),e._v(" "),a("div",{staticClass:"zx-div2"},[e._v("开启自选后，您的商城里只显示您选择的商品")])]),e._v(" "),a("div",{staticClass:"seller-content2"},[a("div",{staticClass:"add-div"},[a("div",{staticClass:"fs40"},[e._v("添加商品")]),e._v(" "),a("div",{staticClass:"fs40",on:{click:e.findProduct}},[e._v("\n                    选择商品"),a("i",{staticClass:"iconfont icon-jiantou-copy "})])]),e._v(" "),e._l(e.sellerProList,function(t,i){return null!=e.sellerProList?a("div",{key:i,staticClass:"add-div pro-div-item "},[a("div",{staticClass:"pro-div"},[a("div",{staticClass:"img-div"},[a("default-img",{attrs:{background:e.imgUrl+t.image_url,isHeadPortrait:0}})],1),e._v(" "),a("div",{staticClass:"fs0 right-div"},[a("p",{staticClass:"fs40"},[e._v(e._s(t.pro_name))]),e._v(" "),a("p",{staticClass:"fs34"},[e._v("价格：￥"+e._s(e._f("moneySplit1")(t.pro_price))+"."),a("em",{staticClass:"fs30"},[e._v(e._s(e._f("moneySplit2")(t.pro_price)))])])])]),e._v(" "),a("div",{staticClass:"pro-div-right ",on:{click:function(a){e.deletePro(i,t,!1)}}},[a("i",{staticClass:"icon-guanbi iconfont del-div "})])]):e._e()})],2)]):e._e(),e._v(" "),a("div",{staticClass:"bottom-div"},[a("div",{staticClass:"div-button",on:{click:e.save}},[e._v("确认")])])])},c=[],p={render:d,staticRenderFns:c},v=p,m=a("X4nt"),u=i,b=m(n,v,!1,u,"data-v-531b4afb",null);t.default=b.exports},HwZT:function(e,t,a){t=e.exports=a("I71c")(!1),t.push([e.i,".sale-wrapper .seller-top[data-v-531b4afb]{position:fixed;top:0;z-index:2;width:100%}.sale-wrapper .seller-top .seller-nav[data-v-531b4afb]{height:.79333333rem;line-height:.79333333rem;padding-left:.33333333rem;background:#f0f2f5;font-size:.3rem}.sale-wrapper .seller-top .seller-nav i[data-v-531b4afb]{color:#b2b2b2;margin-right:.16666667rem}.sale-wrapper[data-v-531b4afb]{width:100%;position:relative}.sale-wrapper .seller-nav[data-v-531b4afb]{background:#fff!important;position:relative;border-bottom:1px solid #e0e0e0}.sale-wrapper .header-itme p[data-v-531b4afb]{font-size:.30666667rem}.sale-wrapper .seller-content[data-v-531b4afb]{width:100%;padding:2rem 0 1.62rem}.sale-wrapper .seller-content .set-item2[data-v-531b4afb],.sale-wrapper .seller-content .set-item[data-v-531b4afb]{padding-left:.2rem;width:100%;height:.8rem;display:-webkit-box;display:-moz-box;display:-o-box;display:box;-webkit-box-pack:left;-o-box-pack:left;box-pack:left;-webkit-box-align:center;-o-box-align:center;box-align:center}.sale-wrapper .seller-content .set-item2 .set-div1[data-v-531b4afb],.sale-wrapper .seller-content .set-item .set-div1[data-v-531b4afb]{width:20%;font-size:.26666667rem}.sale-wrapper .seller-content .set-item2 .set-div2[data-v-531b4afb],.sale-wrapper .seller-content .set-item2 .set-div3[data-v-531b4afb],.sale-wrapper .seller-content .set-item .set-div2[data-v-531b4afb],.sale-wrapper .seller-content .set-item .set-div3[data-v-531b4afb]{width:80%}.sale-wrapper .seller-content .set-item2 .set-div2 .update-div2[data-v-531b4afb],.sale-wrapper .seller-content .set-item2 .set-div2 .update-div[data-v-531b4afb],.sale-wrapper .seller-content .set-item2 .set-div3 .update-div2[data-v-531b4afb],.sale-wrapper .seller-content .set-item2 .set-div3 .update-div[data-v-531b4afb],.sale-wrapper .seller-content .set-item .set-div2 .update-div2[data-v-531b4afb],.sale-wrapper .seller-content .set-item .set-div2 .update-div[data-v-531b4afb],.sale-wrapper .seller-content .set-item .set-div3 .update-div2[data-v-531b4afb],.sale-wrapper .seller-content .set-item .set-div3 .update-div[data-v-531b4afb]{border:.04rem dashed #f2f2f2;width:1.19333333rem;height:1.19333333rem;line-height:1.19333333rem;color:#cacaca;text-align:center;font-size:.26666667rem}.sale-wrapper .seller-content .set-item2 .set-div2 .update-div2[data-v-531b4afb],.sale-wrapper .seller-content .set-item2 .set-div3 .update-div2[data-v-531b4afb],.sale-wrapper .seller-content .set-item .set-div2 .update-div2[data-v-531b4afb],.sale-wrapper .seller-content .set-item .set-div3 .update-div2[data-v-531b4afb]{width:60%}.sale-wrapper .seller-content .set-item2 .set-div3[data-v-531b4afb],.sale-wrapper .seller-content .set-item .set-div3[data-v-531b4afb]{height:100%}.sale-wrapper .seller-content .set-item2 .set-div3 textarea[data-v-531b4afb],.sale-wrapper .seller-content .set-item .set-div3 textarea[data-v-531b4afb]{width:80%}.sale-wrapper .seller-content .set-item2 input[data-v-531b4afb],.sale-wrapper .seller-content .set-item2 textarea[data-v-531b4afb],.sale-wrapper .seller-content .set-item input[data-v-531b4afb],.sale-wrapper .seller-content .set-item textarea[data-v-531b4afb]{width:100%;height:100%;border:0;outline:0;word-wrap:break-word;font-size:.26666667rem}.sale-wrapper .seller-content .set-item2[data-v-531b4afb]{height:1.33333333rem;padding:.06666667rem 0;padding-left:.2rem}.sale-wrapper .seller-content2[data-v-531b4afb]:not(:first-child){margin-top:.2rem}.sale-wrapper .seller-content2[data-v-531b4afb]{background:#fff;width:100%;padding-left:.2rem}.sale-wrapper .seller-content2 .zx-div[data-v-531b4afb]{display:-webkit-box;display:-moz-box;display:-o-box;display:box;-webkit-box-pack:justify;-o-box-pack:justify;box-pack:justify;-webkit-box-align:center;-o-box-align:center;box-align:center;padding-right:.2rem;height:1.04666667rem}.sale-wrapper .seller-content2 .zx-div input[data-v-531b4afb]{display:block}.sale-wrapper .seller-content2 .zx-div .shop-switch[data-v-531b4afb]:checked{border-color:#2f99ff!important;background-color:#2f99ff!important}.sale-wrapper .seller-content2 .zx-div2[data-v-531b4afb]{height:.66666667rem;line-height:.66666667rem;color:#999;font-size:.26666667rem}.sale-wrapper .seller-content2 .add-div[data-v-531b4afb]{height:.79333333rem;display:-webkit-box;display:-moz-box;display:-o-box;display:box;-webkit-box-pack:justify;-o-box-pack:justify;box-pack:justify;-webkit-box-align:center;-o-box-align:center;box-align:center;position:relative;border-bottom:1px solid #e0e0e0}.sale-wrapper .seller-content2 .add-div div[data-v-531b4afb]:last-child{color:#999}.sale-wrapper .seller-content2 .add-div i[data-v-531b4afb]{margin:0 .2rem 0 .21333333rem}.sale-wrapper .seller-content2 .pro-div-item[data-v-531b4afb]{height:1.65333333rem}.sale-wrapper .seller-content2 .pro-div-item .pro-div[data-v-531b4afb]{width:90%;display:-webkit-box;display:-moz-box;display:-o-box;display:box;-webkit-box-pack:left;-o-box-pack:left;box-pack:left;-webkit-box-align:center;-o-box-align:center;box-align:center}.sale-wrapper .seller-content2 .pro-div-item .pro-div .img-div[data-v-531b4afb]{height:1.52rem;width:1.52rem;margin-right:.2rem}.sale-wrapper .seller-content2 .pro-div-item .pro-div .right-div p[data-v-531b4afb]:first-child{margin:.13333333rem 0 .33333333rem}.sale-wrapper .seller-content2 .pro-div-item .pro-div-right[data-v-531b4afb]{width:10%;font-size:0;height:1.52rem;line-height:1.52rem}.sale-wrapper .bottom-div[data-v-531b4afb]{height:1.63333333rem;padding:0 .4rem .66666667rem;position:fixed;bottom:0;left:0;width:100%}.sale-wrapper .bottom-div .footer-nav[data-v-531b4afb]{width:100%;max-width:8.28rem;margin:0 auto;background:#fff;border-top:1px solid #e2e2e2;height:1.05333333rem}.sale-wrapper .bottom-div .footer-nav i[data-v-531b4afb]{font-size:.4rem;margin-bottom:.06666667rem}.sale-wrapper .bottom-div .div-button[data-v-531b4afb]{width:100%;height:.95333333rem;line-height:.95333333rem;color:#fff;background-color:#2f99ff;font-size:.38666667rem;border-radius:5px;text-align:center}.bg-white[data-v-531b4afb]{background-color:#fff}.hideUpload[data-v-531b4afb]{background-size:100%;background-repeat:no-repeat;background-position:50%}",""])},JHeL:function(e,t,a){"use strict";function i(e){a("W0GM")}var s={props:["headers","status","selectId","isCanSelect"],data:function(){return{selectNav:""}},mounted:function(){this.selectNav=this.$route.params.type||0},watch:{$route:function(){this.selectNav=this.$route.params.type||0,this.onValue(this.selectNav)}},methods:{selects:function(e){if(-1!=e){if(!this.isCanSelect)return void this.$emit("isCanSelect",e);this.selectNav=e,this.onValue(e)}},onValue:function(e){this.$emit("update:type",e),this.$emit("type-change",e)}}},l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shop-header"},[a("div",{staticClass:"header-nav fs42"},e._l(e.headers,function(t){return a("div",{key:t.id,staticClass:"header-itme",class:{"shop-font":t.id==e.selectNav||e.selectId==t.id},on:{click:function(a){e.selects(t.id)}}},[a("p",{domProps:{textContent:e._s(t.name)}}),e._v(" "),a("em",{staticClass:"shop-bg"})])}))])},r=[],o={render:l,staticRenderFns:r},n=o,d=a("X4nt"),c=i,p=d(s,n,!1,c,"data-v-ba4d9dae",null);t.a=p.exports},W0GM:function(e,t,a){var i=a("kusT");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("5ten")("cf298f10",i,!0,{})},fjss:function(e,t,a){t=e.exports=a("I71c")(!1),t.push([e.i,".ik-box[data-v-da54f822]{display:-webkit-box;display:-moz-box;display:-o-box;display:box}.box-sizing[data-v-da54f822]{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.text-overflow[data-v-da54f822]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.upload-main-div[data-v-da54f822]{width:100%;height:100%}.upload-main-div .img-upload[data-v-da54f822]{position:relative;width:100%;height:100%;background-size:cover;background-position:50%;color:#999;border:2px dashed #999;border-radius:5px;text-align:center;display:-webkit-box;display:-moz-box;display:-o-box;display:box;-webkit-box-align:center;-o-box-align:center;box-align:center;-webkit-box-pack:center;-o-box-pack:center;box-pack:center;-webkit-box-orient:vertical;-o-box-orient:vertical;box-orient:vertical}.upload-main-div .img-upload i[data-v-da54f822]{font-size:.58666667rem}.upload-main-div .img-upload p[data-v-da54f822]{width:75%}.upload-main-div input[data-v-da54f822]{position:absolute;width:100%;height:100%;display:block;top:0;left:0;opacity:0}.upload-main-div .update-div[data-v-da54f822]{position:relative}",""])},kusT:function(e,t,a){t=e.exports=a("I71c")(!1),t.push([e.i,".shop-header[data-v-ba4d9dae]{top:0}.shop-header .header-nav[data-v-ba4d9dae]{height:.98666667rem}.shop-header .header-nav em[data-v-ba4d9dae]{height:.04rem;width:100%;display:none}.shop-header[data-v-ba4d9dae]{width:100%;background:#fff}.shop-header .header-nav .header-itme[data-v-ba4d9dae],.shop-header .header-nav[data-v-ba4d9dae]{display:-webkit-box;display:-moz-box;display:-o-box;display:box}.shop-header .header-nav .header-itme[data-v-ba4d9dae]{position:relative;-webkit-box-align:center;-o-box-align:center;box-align:center;-webkit-box-pack:center;-o-box-pack:center;box-pack:center;-webkit-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-box-orient:vertical;-o-box-orient:vertical;box-orient:vertical}.shop-header .header-nav a[data-v-ba4d9dae]{display:block;text-align:center}.shop-header .header-nav .shop-font[data-v-ba4d9dae]{color:#4e95ef}.shop-header .header-nav .shop-bg[data-v-ba4d9dae]{background:#4e95ef}",""])},"l4l+":function(e,t,a){"use strict";function i(e){a("rS35")}var s=a("BMa3"),l=a.n(s),r={props:["maxNums","imgURL","styles","index"],data:function(){return{imgData:[],maxNum:3,styleType:1}},mounted:function(){this.maxNums>0&&(this.maxNum=this.maxNums),this.imgData=this.imgURL,null!=this.styles&&(this.styleType=this.styles)},methods:{imageValidate:function(){if(null!=this.imgData&&this.imgData.length>=this.maxNum)return this.$store.commit("error_msg","图片最多上传"+this.maxNum+"张"),!1},readFile:function(e){var t=this,a=(e.srcElement||e.target).files,i=this;if(null!=this.imgData&&i.imgData.length+a.length>i.maxNum)return void i.$store.commit("error_msg","图片最多上传"+this.maxNum+"张");this.$store.commit("is_show_loading",!0);var s=new FormData;if(s.append("busId",i.$store.state.busId),null!=a&&a.length>0)for(var r=0;r<a.length;r++)s.append("file",a[r]);s.append("file",a);var o={headers:{"Content-Type":"multipart/form-data"}},n=window.h5App.api+h5App.activeAPI.upload_image_post;l.a.post(n,s,o).then(function(e){t.$store.commit("is_show_loading",!1);var a=e.data;if(1001==a.code)return void(location.href=a.url);if(0!=a.code)return void i.$store.commit("error_msg",a.msg);var s=a.data;i.imgData=s.split(",");var l=[i.imgData];null!=i.index&&(l[l.length]=i.index),i.$emit("returnUrl",l)})}}},o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-main-div"},[1==e.styleType?a("div",{staticClass:"img-upload"},[a("i",{staticClass:"iconfont icon-xiangji"}),e._v(" "),a("p",{staticClass:"fs36"},[e._v("\n              上传凭证(最多"+e._s(e.maxNum)+"张)\n      ")]),e._v(" "),a("input",{attrs:{type:"file",accept:"image/*"},on:{change:function(t){e.readFile(t)},click:e.imageValidate}})]):e._e(),e._v(" "),2==e.styleType?a("div",{staticClass:"update-div iconfont icon-jiaimg"},[a("input",{attrs:{type:"file",accept:"image/*"},on:{change:function(t){e.readFile(t)},click:e.imageValidate}})]):e._e()])},n=[],d={render:o,staticRenderFns:n},c=d,p=a("X4nt"),v=i,m=p(r,c,!1,v,"data-v-da54f822",null);t.a=m.exports},rS35:function(e,t,a){var i=a("fjss");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("5ten")("3e5514cf",i,!0,{})}});