webpackJsonp([15],{"13Jg":function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shop-wrapper refund-wrapper"},[i("div",{staticClass:"refund-main comment-main"},[i("section",{staticClass:"refund-state"},[i("div",{staticClass:"refund-list",on:{click:e.showDialog}},[i("p",{staticClass:"fs46"},[e._v("物流公司")]),e._v(" "),i("p",{staticClass:"shopGray"},[null!=e.selectDialogData&&null!=e.selectDialogData.value?i("span",{staticClass:"fs36"},[e._v(e._s(e.selectDialogData.value))]):i("span",{staticClass:"fs36"},[e._v("请选择物流公司（必选）")]),e._v(" "),i("i",{staticClass:"iconfont icon-jiantou-copy"})])])]),e._v(" "),i("section",{staticClass:"refund-money"},[i("div",{staticClass:"refund-list border"},[i("p",{staticClass:"fs46"},[e._v("物流单号：")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.wuliuNo,expression:"wuliuNo"}],staticClass:"fs46 refund-input",attrs:{placeholder:"请输入物流单号(必填)"},domProps:{value:e.wuliuNo},on:{blur:e.blurWuLiuNo,input:function(t){t.target.composing||(e.wuliuNo=t.target.value)}}})])]),e._v(" "),i("section",{staticClass:"refund-money"},[i("div",{staticClass:"refund-list border"},[i("p",{staticClass:"fs46"},[e._v("联系电话：")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.returnTelphone,expression:"returnTelphone"}],staticClass:"fs46 refund-input",attrs:{placeholder:"请输入收件人电话(必填)"},domProps:{value:e.returnTelphone},on:{blur:e.blurPhone,input:function(t){t.target.composing||(e.returnTelphone=t.target.value)}}})])]),e._v(" "),i("section",{staticClass:"refund-money"},[i("div",{staticClass:"refund-list3 border"},[i("p",{staticClass:"fs46"},[e._v("退款说明：")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.returnRemark,expression:"returnRemark"}],staticClass:"fs46 refund-input",attrs:{placeholder:"请输入退货说明（可不填)"},domProps:{value:e.returnRemark},on:{blur:e.blurRemark,input:function(t){t.target.composing||(e.returnRemark=t.target.value)}}})])]),e._v(" "),i("section",{staticClass:"refund-photo comment-content",staticStyle:{background:"#f0f2f5","padding-top":"0"}},[i("div",{staticClass:"refund-box comment-photo border clearfix",staticStyle:{padding:"0"}},[e._l(e.imageArr,function(t,o){return null!=e.imageArr?i("div",{staticClass:"comment-img"},[i("default-img",{attrs:{background:e.imgUrl+t,isHeadPortrait:0,size:"0.8"}}),e._v(" "),i("i",{staticClass:"iconfont icon-guanbi",on:{click:function(t){e.removeImages(o)}}})],1):e._e()}),e._v(" "),null!=e.imageArr&&e.imageArr.length<3?i("div",{staticClass:"comment-upload"},[i("img-upload",{attrs:{imgURL:e.imageArr},on:{returnUrl:e.returnUrl}})],1):e._e()],2)]),e._v(" "),i("section",{staticClass:"shop-footer-fixed comment-footer1"},[1==e.$store.state.isAdvert?i("technical-support"):e._e(),e._v(" "),i("div",{staticClass:"shop-max-button fs52 shop-bg",on:{click:e.submitData}},[e._v("\n                提交退货物流申请\n            ")])],1)]),e._v(" "),null!=e.wuliuList&&e.isShowDialog?i("dialog-show",{attrs:{selectData:e.selectDialogData,dialogList:e.selectDialogList,dialogTitle:e.selectTitle},on:{selectEvent:e.selectDialogs,closeDialog:e.closeDialogs}}):e._e()],1)},r=[],a={render:o,staticRenderFns:r};t.a=a},"5jKf":function(e,t,i){t=e.exports=i("BkJT")(!1),t.push([e.i,".refund-dialog[data-v-72fe9cc8]{width:100%;height:100%;background:rgba(0,0,0,.5);position:fixed;z-index:99;top:0;left:0}.refund-dialog .dialog-main[data-v-72fe9cc8]{width:100%;position:absolute;background:#fff;bottom:0;animation:dialogShow .2s;-moz-animation:dialogShow .2s;-webkit-animation:dialogShow .2s}.refund-dialog .dialog-content[data-v-72fe9cc8]{width:100%;padding:.23333333rem 0 .58666667rem .33333333rem}.refund-dialog .dialog-title[data-v-72fe9cc8]{width:100%;text-align:center;padding-bottom:.33333333rem}.refund-dialog .dialog-ul[data-v-72fe9cc8]{width:100%}.refund-dialog .dialog-ul .refund-list[data-v-72fe9cc8]{height:.78rem;padding-left:0}.refund-dialog .dialog-option[data-v-72fe9cc8]{width:.4rem;height:.4rem;border-radius:100%;text-align:center;line-height:.4rem}.refund-dialog .dialog-option>i[data-v-72fe9cc8]{color:#fff}.refund-dialog .dialog-option .selected[data-v-72fe9cc8]{border:none;color:#e4393c;font-size:.4rem;background:none}.refund-dialog .option-border[data-v-72fe9cc8]{border:1px solid #c7c7cc}.refund-list[data-v-72fe9cc8]{font-size:0;width:100%;height:.96666667rem;display:-webkit-box;display:-moz-box;display:-o-box;display:box;-webkit-box-pack:justify;-o-box-pack:justify;box-pack:justify;-webkit-box-align:center;-o-box-align:center;box-align:center;padding-left:.33333333rem;padding-right:.26666667rem}.refund-list i[data-v-72fe9cc8]{color:#c7c7cc;font-size:.28rem}.comment-footer1 .shop-max-button[data-v-72fe9cc8]{height:.89333333rem;border-radius:0}",""])},"82U+":function(e,t,i){var o=i("Tbmk");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i("8bSs")("8c5bc998",o,!0)},F3s4:function(e,t,i){t=e.exports=i("BkJT")(!1),t.push([e.i,".upload-main-div[data-v-6e84d8ee]{width:100%;height:100%}.upload-main-div .img-upload[data-v-6e84d8ee]{position:relative;width:100%;height:100%;background-size:cover;background-position:50%;color:#999;border:2px dashed #999;border-radius:5px;text-align:center;display:-webkit-box;display:-moz-box;display:-o-box;display:box;-webkit-box-align:center;-o-box-align:center;box-align:center;-webkit-box-pack:center;-o-box-pack:center;box-pack:center;-webkit-box-orient:vertical;-o-box-orient:vertical;box-orient:vertical}.upload-main-div .img-upload i[data-v-6e84d8ee]{font-size:.58666667rem}.upload-main-div .img-upload p[data-v-6e84d8ee]{width:75%}.upload-main-div input[data-v-6e84d8ee]{position:absolute;width:100%;height:100%;display:block;top:0;left:0;opacity:0}.upload-main-div .update-div[data-v-6e84d8ee]{position:relative}",""])},Ih1W:function(e,t,i){"use strict";var o=i("BMa3"),r=i.n(o);t.a={props:["maxNums","imgURL","styles","index"],data:function(){return{imgData:[],maxNum:3,styleType:1}},mounted:function(){this.maxNums>0&&(this.maxNum=this.maxNums),this.imgData=this.imgURL,null!=this.styles&&(this.styleType=this.styles)},methods:{imageValidate:function(){if(null!=this.imgData&&this.imgData.length>=this.maxNum)return this.$store.commit("error_msg","图片最多上传"+this.maxNum+"张"),!1},readFile:function(e){var t=this,i=(e.srcElement||e.target).files,o=this;if(null!=this.imgData&&o.imgData.length+i.length>o.maxNum)return void o.$store.commit("error_msg","图片最多上传"+this.maxNum+"张");this.$store.commit("is_show_loading",!0),console.log(i,"file");var a=new FormData;if(a.append("busId",o.$store.state.busId),null!=i&&i.length>0)for(var n=0;n<i.length;n++)a.append("file",i[n]);a.append("file",i);var s={headers:{"Content-Type":"multipart/form-data"}},l=window.h5App.api+h5App.activeAPI.upload_image_post;r.a.post(l,a,s).then(function(e){t.$store.commit("is_show_loading",!1);var i=e.data;if(1001==i.code)return void(location.href=i.url);if(0!=i.code)return void o.$store.commit("error_msg",i.msg);var r=i.data;o.imgData=r.split(",");var a=[o.imgData];null!=o.index&&(a[a.length]=o.index),o.$emit("returnUrl",a)})}}}},LVUN:function(e,t,i){var o=i("F3s4");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i("8bSs")("191bc22b",o,!0)},OmNo:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"upload-main-div"},[1==e.styleType?i("div",{staticClass:"img-upload"},[i("i",{staticClass:"iconfont icon-xiangji"}),e._v(" "),i("p",{staticClass:"fs36"},[e._v("\n              上传凭证(最多"+e._s(e.maxNum)+"张)\n      ")]),e._v(" "),i("input",{attrs:{type:"file",accept:"image/*"},on:{change:function(t){e.readFile(t)},click:e.imageValidate}})]):e._e(),e._v(" "),2==e.styleType?i("div",{staticClass:"update-div iconfont icon-jiaimg"},[i("input",{attrs:{type:"file",accept:"image/*"},on:{change:function(t){e.readFile(t)},click:e.imageValidate}})]):e._e()])},r=[],a={render:o,staticRenderFns:r};t.a=a},Tbmk:function(e,t,i){t=e.exports=i("BkJT")(!1),t.push([e.i,".refund-wrapper{width:100%}.refund-wrapper .refund-main{position:relative;width:100%;padding-bottom:1.1rem}.refund-wrapper section{width:100%;background:#fff;margin-bottom:.2rem}.refund-wrapper .technicalSupport{background:#f0f2f5}.refund-wrapper .refund-goods{padding:.16666667rem .1rem .16666667rem .26666667rem}.refund-wrapper .refund-goods .goods-img{float:left;width:1.78rem;height:1.78rem;background-size:cover;background-position:50%}.refund-wrapper .refund-goods .goods-delt{width:72%;float:left;margin-left:.13333333rem;text-align:justify}.refund-wrapper .refund-goods .goods-delt p{margin:.13333333rem 0}.refund-wrapper .refund-state{width:100%}.refund-wrapper .refund-list,.refund-wrapper .refund-list2,.refund-wrapper .refund-list3{font-size:0;width:100%;height:.96666667rem;display:-webkit-box;display:-moz-box;display:-o-box;display:box;-webkit-box-pack:justify;-o-box-pack:justify;box-pack:justify;-webkit-box-align:center;-o-box-align:center;box-align:center;padding-left:.33333333rem;padding-right:.26666667rem}.refund-wrapper .refund-list2 i,.refund-wrapper .refund-list3 i,.refund-wrapper .refund-list i{color:#c7c7cc;font-size:.28rem}.refund-wrapper .refund-list2{height:1.6rem}.refund-wrapper .refund-list2 .list-txt{display:-webkit-box;display:-moz-box;display:-o-box;display:box;-webkit-box-pack:justify;-o-box-pack:justify;box-pack:justify;-webkit-box-align:center;-o-box-align:center;box-align:center}.refund-wrapper .refund-list2 .list-txt>i{color:#e4393c;font-size:.45333333rem;margin-right:.13333333rem}.refund-wrapper .refund-list3{height:1.66666667rem;-webkit-box-align:stretch;-o-box-align:stretch;box-align:stretch;padding-top:.13333333rem;padding-bottom:.13333333rem}.refund-wrapper .refund-input{width:80%;display:block;height:100%;border:0}.refund-wrapper .refund-money{width:100%}.refund-wrapper .refund-money>div:nth-child(2){background:#ededed;color:#999}.refund-wrapper .refund-photo{width:100%;padding:.31333333rem}.refund-wrapper .refund-passheader{width:100%;height:2.53333333rem;padding:0 .4rem;display:-webkit-box;display:-moz-box;display:-o-box;display:box;-webkit-box-pack:center;-o-box-pack:center;box-pack:center;-webkit-box-orient:vertical;-o-box-orient:vertical;box-orient:vertical;background-image:-moz-linear-gradient(50% 0 -45deg,transparent,transparent 50%,#f0f2f5 50%,#f0f2f5),-moz-linear-gradient(50% 0 -135deg,transparent,transparent 50%,#f0f2f5 50%,#f0f2f5);background-size:11px 7px;background-repeat:repeat-x;background-position:0 100%}.refund-wrapper .refund-passheader .header-title{font-weight:700;margin-bottom:.4rem}.refund-wrapper .refund-passheader .header-title i{border:2px solid #e4393c;border-radius:100%;color:#e4393c;font-weight:100;padding:.06rem;font-size:.32rem;margin-right:.13333333rem}.refund-wrapper .refund-passheader>p{width:100%;margin:.03333333rem 0}.refund-wrapper .shop-footer-fixed{margin:0}.refund-wrapper .refund-dialog{width:100%;height:100%;background:rgba(0,0,0,.5);position:fixed;z-index:99;top:0;left:0}.refund-wrapper .refund-dialog .dialog-main{width:100%;position:absolute;background:#fff;bottom:0;animation:dialogShow .2s;-moz-animation:dialogShow .2s;-webkit-animation:dialogShow .2s}.refund-wrapper .refund-dialog .dialog-content{width:100%;padding:.23333333rem 0 .58666667rem .33333333rem}.refund-wrapper .refund-dialog .dialog-title{width:100%;text-align:center;padding-bottom:.33333333rem}.refund-wrapper .refund-dialog .dialog-ul{width:100%}.refund-wrapper .refund-dialog .dialog-ul .refund-list{height:.78rem;padding-left:0}.refund-wrapper .refund-dialog .dialog-option{width:.4rem;height:.4rem;border-radius:100%;border:1px solid #c7c7cc;text-align:center;line-height:.4rem}.refund-wrapper .refund-dialog .dialog-option>i{color:#fff}.refund-wrapper .refund-dialog .selected{border:0;background:#e4393c}.comment-content{font-size:0;background:#fff;padding:.26666667rem 0 0;width:100%}.comment-content .comment-photo{width:100%;text-align:justify;padding:.26666667rem}.comment-content .comment-photo .comment-img,.comment-content .comment-photo .comment-upload{float:left;position:relative;width:22%;height:1.53333333rem;background-size:cover;background-position:50%;margin-top:.26666667rem;margin-right:.2rem}.comment-content .comment-photo .comment-img input,.comment-content .comment-photo .comment-upload input{position:absolute;width:100%;height:100%;display:block;top:0;left:0;opacity:0}.comment-content .comment-photo .comment-img i,.comment-content .comment-photo .comment-upload i{z-index:2}.comment-content .comment-photo .comment-img{position:relative}.comment-content .comment-photo .comment-img i{width:.4rem;height:.4rem;text-align:center;line-height:.4rem;background:rgba(0,0,0,.6);color:#e0e0e8;font-size:.24rem;border-radius:100%;position:absolute;top:-8%;right:-8%}.comment-content .comment-photo .border-img{border:1px solid #ededed;width:26%;height:1.86666667rem}.comment-footer1{width:100%}.comment-footer1 .shop-max-button{height:.89333333rem;border-radius:0}",""])},XAGt:function(e,t,i){"use strict";function o(e){i("ozqP")}var r=i("kRrg"),a=i.n(r),n=i("ayzO"),s=i("0HdQ"),l=o,d=s(a.a,n.a,!1,l,"data-v-72fe9cc8",null);t.a=d.exports},ayzO:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return null!=e.dialogList?i("div",{staticClass:"refund-dialog shop-show"},[i("div",{staticClass:"dialog-main"},[i("div",{staticClass:"dialog-content"},[i("p",{staticClass:"fs46 dialog-title border"},[e._v(e._s(e.dialogTitle))]),e._v(" "),i("div",{staticClass:"dialog-ul"},e._l(e.dialogList,function(t){return i("div",{staticClass:"refund-list border",on:{click:function(i){e.selectDialog(t)}}},[i("p",{staticClass:"fs46"},[e._v(e._s(t.value))]),e._v(" "),i("p",{staticClass:"dialog-option ",class:{"option-border":e.data.id!=t.id}},[i("i",{staticClass:"iconfont icon-yes",class:[e.data.id==t.id?"selected":""]})])])}))]),e._v(" "),i("div",{staticClass:"shop-footer comment-footer1"},[i("div",{staticClass:"shop-max-button fs52 shop-bg",on:{click:e.closeDialog}},[e._v("\n                关 闭\n            ")])])])]):e._e()},r=[],a={render:o,staticRenderFns:r};t.a=a},"fk9/":function(e,t,i){"use strict";function o(e){i("82U+")}Object.defineProperty(t,"__esModule",{value:!0});var r=i("jrxM"),a=i("13Jg"),n=i("0HdQ"),s=o,l=n(r.a,a.a,!1,s,null,null);t.default=l.exports},jrxM:function(e,t,i){"use strict";var o=i("l4l+"),r=i("XAGt");t.a={components:{imgUpload:o.a,dialogShow:r.a},data:function(){return{imgURL:"sss",busId:this.$route.params.busId||sessionStorage.getItem("busId"),returnId:this.$route.params.returnId,isShowDialog:!1,selectDialogData:{},selectDialogList:[],selectTitle:"选择物流公司",imageArr:[],submitReturnUrl:"",wuliuList:[],returnRemark:"",returnTelphone:"",wuliuNo:""}},mounted:function(){if(this.commonFn.setTitle("填写退货物流信息"),this.$store.commit("show_footer",!1),this.submitReturnUrl=sessionStorage.getItem("refundReturnUrl"),null!=this.submitReturnUrl&&""!=this.submitReturnUrl){var e=this.submitReturnUrl.split("#");null!=e&&e.length>1&&(this.submitReturnUrl=e[1])}else this.submitReturnUrl="/order/list/"+this.busId+"/0";this.loadDatas(),this.getWuLiuList()},beforeDestroy:function(){this.$store.commit("show_footer",!0)},methods:{showDialog:function(){this.isShowDialog=!0},selectDialogs:function(e){this.selectDialogData=e[1],this.isShowDialog=!1},closeDialogs:function(e){this.isShowDialog=!1},returnUrl:function(e){var t=this;null!=t.imageArr&&null!=e?e.forEach(function(e,i){t.$set(t.imageArr,t.imageArr.length,e)}):null!=e&&(t.imageArr=e)},removeImages:function(e){this.imageArr.splice(e,1)},blurPhone:function(){var e=this.commonFn.validPhone(this.returnTelphone);return e||this.$store.commit("error_msg","请填写正确的手机号码"),e},blurRemark:function(){var e=this.returnRemark;return!(null!=e&&e.length>200)||(this.$store.commit("error_msg","退款说明不能超过200个字"),!1)},blurWuLiuNo:function(){var e=this.wuliuNo;return null==e||""==e?(this.$store.commit("error_msg","请填写正确的物流单号"),!1):!!this.commonFn.validateWuliuNo(e)||(this.$store.commit("error_msg","请填写正确的物流单号"),!1)},getWuLiuList:function(){var e=this,t={busId:e.busId,url:location.href,browerType:e.$store.state.browerType};e.ajaxRequest({url:h5App.activeAPI.return_logistics_post,data:t,success:function(t){e.selectDialogList=t.data,e.selectDialogList.forEach(function(e,t){e.id=e.item_key,e.value=e.item_value})}})},loadDatas:function(){var e=this,t={busId:e.busId,url:location.href,browerType:e.$store.state.browerType,orderDetailId:e.orderDetailId,returnId:e.returnId};e.ajaxRequest({url:h5App.activeAPI.return_logistics_detail_post,data:t,success:function(t){e.imgUrl=t.imgUrl;var i=t.data;e.wuliuNo=i.wlNo,e.returnTelphone=i.wlTelephone,e.returnRemark=i.wlRemark,null!=i.wlImagesUrl&&i.wlImagesUrl.length>0&&i.wlImagesUrl.forEach(function(t,i){e.$set(e.imageArr,e.imageArr.length,t)}),null!=i.wlCompanyId&&null!=i.wlCompany&&(e.selectDialogData={id:i.wlCompanyId,value:i.wlCompany})}})},submitData:function(){var e=this,t=e.selectDialogData;if(null==t||null==t.id||""==t.id)return e.$store.commit("error_msg","请选择物流公司"),!1;if(!e.blurWuLiuNo()||!e.blurPhone()||!e.blurRemark())return!1;var i={busId:e.busId,url:location.href,browerType:e.$store.state.browerType,id:e.returnId,wlCompanyId:e.selectDialogData.id,wlCompany:e.selectDialogData.value,wlNo:e.wuliuNo,wlTelephone:e.returnTelphone,wlRemark:e.returnRemark};null!=e.imageArr&&(i.wlImagesUrl=e.imageArr.toString()),e.ajaxRequest({url:h5App.activeAPI.return_logistics_save_post,data:i,success:function(t){null!=e.submitReturnUrl&&""!=e.submitReturnUrl||(e.submitReturnUrl="/order/list/"+this.busId+"/0"),e.$router.push(e.submitReturnUrl)}})}}}},kRrg:function(e,t){e.exports={props:["selectData","dialogList","dialogType","dialogTitle"],data:function(){return{list:[],isShowDialog:!1,data:{},type:0}},watch:{selectData:function(){this.data=this.selectData}},mounted:function(){this.list=this.dialogList,this.data=this.selectData,this.type=this.dialogType},methods:{selectDialog:function(e){this.$emit("selectEvent",[this.type,e])},closeDialog:function(){this.$emit("closeDialog")}}}},"l4l+":function(e,t,i){"use strict";function o(e){i("LVUN")}var r=i("Ih1W"),a=i("OmNo"),n=i("0HdQ"),s=o,l=n(r.a,a.a,!1,s,"data-v-6e84d8ee",null);t.a=l.exports},ozqP:function(e,t,i){var o=i("5jKf");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i("8bSs")("350e223b",o,!0)}});