webpackJsonp([55],{"0opI":function(t,s,e){"use strict";function a(t){e("Dvq4")}Object.defineProperty(s,"__esModule",{value:!0});var i={data:function(){return{labelList:[],keywordList:null,keyWord:""}},beforeCreate:function(){},beforeMount:function(){},methods:{searchAjax:function(){var t=this;this.ajaxRequest({url:h5App.activeAPI.phonePage_searchLabel_post,data:{shopId:this.$store.state.shopId},success:function(s){t.labelList=s.data.labelList,t.keywordList=s.data.keywordList}})},inputFocus:function(){},submit:function(t){var s=this.$route.params.type||0,e=this.$store.state.shopId||"shopId",a=this.$store.state.busId||"busId",i=t||this.keyWord||"k=k";this.$store.commit("mutationData",{keywords:i});var r="/classify/"+e+"/"+a+"/"+s+"/"+i,n=this.$route.params.desc;this.commonFn.isNotNull(n)&&(r+="/"+n),this.$router.push(r)},back:function(){window.history.go(-1)},clearSearchAjax:function(){var t=this,s={btnNum:"2",dialogTitle:"提示",dialogMsg:"确定清空历史搜索吗？",btnOne:"是",btnTow:"否",callback:{btnOne:function(){t.ajaxRequest({status:!1,url:h5App.activeAPI.phonePage_clearSearchGroup_post,data:{shopId:t.$store.state.shopId},success:function(s){0==s.code?t.keywordList=null:t.$store.commit("error_msg","清空失败")}})},btnTow:function(){}}};t.$parent.$refs.dialog.showDialog(s)}},mounted:function(){this.commonFn.setTitle("搜索"),this.searchAjax();var t=this.$store.state.keywords||this.$route.params.keywords;this.keyWord="k=k"===t?"":t||"",this.$parent.getSaleMemberId(),$("#input").focus()}},r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shop-wrapper"},[e("div",{staticClass:"search-main"},[e("header",{staticClass:"search-header"},[e("div",{staticClass:"header-search"},[e("span",{staticClass:"fs42",on:{click:function(s){t.back()}}},[t._v("取消")]),t._v(" "),e("form",{attrs:{action:"#"},on:{submit:t.inputFocus}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWord,expression:"keyWord"}],staticClass:"fs40",attrs:{type:"text",placeholder:"请输入商品关键词",autofocus:"autofocus",id:"input"},domProps:{value:t.keyWord},on:{keydown:function(s){if(!("button"in s)&&t._k(s.keyCode,"enter",13,s.key))return null;t.submit(s)},input:function(s){s.target.composing||(t.keyWord=s.target.value)}}})]),t._v(" "),e("span",{staticClass:"fs42",on:{click:function(s){t.submit()}}},[t._v("搜索")])])]),t._v(" "),e("section",{staticClass:"search-content"},[t.keywordList?e("div",{staticClass:"search-history"},[e("p",{staticClass:"search-title"},[e("i",{staticClass:"fs36"},[t._v("历史搜索")]),t._v(" "),e("i",{staticClass:"iconfont icon-shanchu",on:{click:t.clearSearchAjax}})]),t._v(" "),e("div",{staticClass:"search-txt"},t._l(t.keywordList,function(s){return e("em",{staticClass:"em-search",on:{click:function(e){t.submit(s.keyword)}}},[t._v("\n                            "+t._s(s.keyword)+"\n                        ")])}))]):t._e(),t._v(" "),e("div",{staticClass:"search-history"},[t._m(0),t._v(" "),e("div",{staticClass:"search-txt"},t._l(t.labelList,function(s){return e("em",{staticClass:"em-search",on:{click:function(e){t.submit(s.group_name)}}},[t._v("\n                            "+t._s(s.group_name)+"\n                        ")])}))])])])])},n=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",{staticClass:"search-title"},[e("i",{staticClass:"fs36"},[t._v("搜索推荐")])])}],o={render:r,staticRenderFns:n},c=o,h=e("X4nt"),d=a,l=h(i,c,!1,d,null,null);s.default=l.exports},Dvq4:function(t,s,e){var a=e("IeEM");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("5ten")("7795f877",a,!0,{})},IeEM:function(t,s,e){s=t.exports=e("I71c")(!1),s.push([t.i,".search-main{width:100%;position:relative}.search-main .search-header{width:100%;font-size:0;background:#fff}.search-main .header-search{width:100%;padding:.16666667rem;padding-right:0;position:relative}.search-main .header-search form{width:76%;display:inline-block}.search-main .header-search input{background:#ebebeb;width:100%;border:0;padding:.13333333rem;padding-right:0;border-radius:10px}.search-main .header-search>span{width:12%;display:inline-block;text-align:center;padding:.13333333rem 0}.search-main .search-content,.search-main .search-content .search-history{width:100%}.search-main .search-content .search-history .search-title{width:100%;display:-webkit-box;display:-moz-box;display:-o-box;display:box;-webkit-box-pack:justify;-o-box-pack:justify;box-pack:justify}.search-main .search-content .search-history .search-title i{padding:.26666667rem;display:block}.search-main .search-content .search-history .search-txt{width:100%;padding:0 .26666667rem;font-size:0}",""])}});